<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive comments</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
    <section>
        <div id="embrulho_section">
          <div class="comentario">
              <div class="header_coment">
                <img src="images/avatars/image-amyrobson.webp" alt="avatar">
                <a href="#">amyrobson</a>
                <span>1 month ago</span>
              </div>
              <div class="main_coment">
                <p>Impressive! Though it seems the drag feature could be improved. But overall it looks incredible. You've nailed the design and the responsiveness at various breakpoints works really well</p>
              </div>
                <div class="like_and_reply">
                  <div class="likes">
                    <div class="like">+</div>
                    <p class="numbers_like"></p>
                    <div class="dislike">-</div>
                  </div>
                  <p class="responder">
                    <img src="images/icon-reply.svg" alt="reply">
                    reply
                  </p>
                </div>
          </div>
          <div class="todas_respostas">

          </div>
          <div class="comentario">
            <div class="header_coment">
              <img src="images/avatars/image-maxblagun.webp" alt="avatar">
              <a href="#">maxblagun</a>
              <span>2 week ago</span>
            </div>
            <div class="main_coment">
              <p>Woah, your project look awesome! How long have you been coding for? I'm still new, but think i want to dive into React as well soon. Perhaps you can give me an insight on where i can learn React?
              Thanks!</p>
            </div>
            <div class="like_and_reply">
              <div class="likes">
                  <div class="like">+</div>
                  <p class="numbers_like"></p>
                  <div class="dislike">-</div>
                </div>
                <p href="#" class="responder">
                  <img src="images/icon-reply.svg" alt="reply">
                  reply
                </p>
            </div>
          </div>

          <div class="todas_respostas">

          </div>

          <div class="todas_respostas">
            <div class="resposta">
              <div class="header_coment">
                <img src="images/avatars/image-ramsesmiron.webp" alt="avatar">
                <a href="#">ramsesmiron</a>
                <span>1 week ago</span>
              </div>
              <div class="main_coment">
                <p><b>@maxblagun</b> If you're still new, i'd recommend focusing on the fundamentals of HTML, CSS and JS before considering React. It's very tempting to jump ahead but lay a solid foundation first.</p>
              </div>
              <div class="like_and_reply">
                <div class="likes">
                    <div class="like">+</div>
                    <p class="numbers_like"></p>
                    <div class="dislike">-</div>
                  </div>
                  <p href="#" class="responder">
                    <img src="images/icon-reply.svg" alt="reply">
                    reply
                  </p>
              </div>
            </div>

            <div class="resposta">
              <div class="header_coment">
                <img src="images/avatars/image-juliusomo.webp" alt="avatar">
                <a href="#" class="you_name">juliusomo</a>
                <span class="you">You</span>
                <span>2 days ago</span>
              </div>
              <div class="main_coment">
                <p><b>@ramsesmiron</b> I couldn't agree more with this. Everything moves so fast and it always seems like ereveryone knows the newest library/framework. But the fundamentals are what stay constant.</p>
              </div>
              <div class="like_and_reply">
                <div class="likes">
                    <div class="like">+</div>
                    <p class="numbers_like"></p>
                    <div class="dislike">-</div>
                  </div>
                  <div>
                    <img src="images/icon-delete.svg" alt="delete">
                    <span class="delete">Delete</span>
                  </div>
                  <div>
                    <img src="images/icon-edit.svg" alt="edit">
                    <span class="edit">Edit</span>
                  </div>
              </div>
            </div>
          </div>
        </div>
        <div id="sua_mensagem">
          <input type="text" name="mensage" id="mensage" placeholder="add a coment...">
          <img src="images/avatars/image-juliusomo.webp" alt="image-juliusomo">
          <input type="button" value="SEND" id="enviar_mensagem" onclick="submetendo()">
        </div>
    </section>
    

    <script>
      const submit = document.getElementById('enviar_mensagem')
      const section_comentario = document.getElementById('embrulho_section')
      let mensagem = document.getElementById('mensage')

      const criando_comentarios = {
          
          like: Array.from(document.getElementsByClassName('like')),
          dislike: Array.from(document.getElementsByClassName('dislike')),
          numbers_like: Array.from(document.getElementsByClassName('numbers_like')),

          responder: Array.from(document.getElementsByClassName('responder')),
          respondendo_div: Array.from(document.getElementsByClassName('todas_respostas')) ,
          

          primeiros_numeros_like: [12, 5, 4, 2],

          likes: function(){
             for(let c = 0; c < this.primeiros_numeros_like.length; c++){ //add os numeros no documento (que ja existem)
               this.numbers_like[c].innerHTML = this.primeiros_numeros_like[c]
             }
             for(let c = 0; c < this.like.length; c++){
              let contador_like = 0
              this.like[c].addEventListener('click', function(){
                if (contador_like < 1){
                contador_like ++
                criando_comentarios.numbers_like[c].innerHTML ++}
              })
              this.dislike[c].addEventListener('click', function(){
                if (contador_like === 1){
                  contador_like --
                  criando_comentarios.numbers_like[c].innerHTML --
                }
              })
             } 
          },


          criar_div_comentario: function(){
            const div_comentario = document.createElement('div')
          div_comentario.classList.add('comentario')
          div_comentario.innerHTML = `<div class="header_coment">
                  <img src="images/avatars/image-juliusomo.webp" alt="avatar">
                  <a href="#" class="you_name">juliusomo</a>
                  <span class="you">You</span>
                  <span>2 days ago</span>
                </div>
                <div class="main_coment">
                  <p>${mensagem.value}</p>
                </div>
                <div class="like_and_reply">
                  <div class="likes">
                      <div class="like">+</div>
                      <p class="numbers_like"> 0 </p>
                      <div class="dislike">-</div>
                    </div>
                    <div>
                      <img src="images/icon-delete.svg" alt="delete">
                      <span class="delete">Delete</span>
                    </div>
                    <div>
                      <img src="images/icon-edit.svg" alt="edit">
                      <span class="edit">Edit</span>
                    </div>`
                    section_comentario.appendChild(div_comentario)

                    let like_dinamico = Array.from(div_comentario.getElementsByClassName('like'))
                    let dislike_dinamico = Array.from(div_comentario.getElementsByClassName('dislike'))
                    let numbers_like_dinamico = Array.from(div_comentario.getElementsByClassName('numbers_like'))

                    for(let c = 0; c < like_dinamico.length; c++){
                      let contador_like = 0
                      like_dinamico[c].addEventListener('click', function(){
                        if (contador_like < 1){
                          contador_like ++
                          numbers_like_dinamico[c].innerHTML ++
                        }
                      dislike_dinamico[c].addEventListener('click', function(){
                        if (contador_like === 1){
                          contador_like --
                          numbers_like_dinamico[c].innerHTML --
                        }})
                      })
                      mensagem.value = ' '
                    }
        },
              //TENTAR IDEIA DO CONTADOR PARA RESPONDER PERGUNTAS
          criar_div_resposta: function(){
            
            for(let c = 0; c < this.responder.length; c ++){
              this.responder[c].addEventListener('click', function(){

                const div_resposta = document.createElement('div') 
                div_resposta.classList.add('resposta')

                div_resposta.innerHTML = ` <div class="header_coment">
                    <img src="images/avatars/image-juliusomo.webp" alt="avatar">
                    <a href="#" class="you_name">juliusomo</a>
                    <span class="you">You</span>
                    <span>2 days ago</span>
                  </div>
                  <div class="main_coment">
                    <p><b>@ramsesmiron</b> ${mensagem.value}</p>
                  </div>
                  <div class="like_and_reply">
                    <div class="likes">
                        <div class="like">+</div>
                        <p class="numbers_like"> </p>
                        <div class="dislike">-</div>
                      </div>
                      <div>
                        <img src="images/icon-delete.svg" alt="delete">
                        <span class="delete">Delete</span>
                      </div>
                      <div>
                        <img src="images/icon-edit.svg" alt="edit">
                        <span class="edit">Edit</span>
                      </div>
                  </div>`              
                  
                  criando_comentarios.respondendo_div[c].appendChild(div_resposta)
                  
              
            })
            }
          }

      }
      criando_comentarios.likes()
      criando_comentarios.criar_div_resposta()

      
    </script>

</body>
</html>